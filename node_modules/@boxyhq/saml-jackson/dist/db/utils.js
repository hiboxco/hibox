"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.indexPrefix = exports.sleep = exports.keyFromParts = exports.keyDigest = exports.keyForIndex = exports.key = void 0;
const ripemd160_1 = __importDefault(require("ripemd160"));
const key = (namespace, k) => {
    return namespace + ':' + k;
};
exports.key = key;
const keyForIndex = (namespace, idx) => {
    return (0, exports.key)((0, exports.key)(namespace, idx.name), idx.value);
};
exports.keyForIndex = keyForIndex;
const keyDigest = (k) => {
    return new ripemd160_1.default().update(k).digest('hex');
};
exports.keyDigest = keyDigest;
const keyFromParts = (...parts) => {
    // TODO: pick a better strategy, keys can collide now
    return parts.join(':');
};
exports.keyFromParts = keyFromParts;
const sleep = (ms) => {
    return new Promise((resolve) => setTimeout(resolve, ms));
};
exports.sleep = sleep;
exports.indexPrefix = '_index';
